<div class="loading" *ngIf="isSaving; else editor">
  <ui-spinner></ui-spinner>
</div>
<ng-template #editor>
  <!-- <div id="photo"></div> -->
  <div class="dropzone" 
     dropZone
     (hovered)="toggleHover($event)"
     (dropped)="startUpload($event)"
     [class.hovering]="isHovering">

     <h3>Insert Blog Image Here</h3>

     <div class="file">
        <label class="file-label">
        <input class="file-input" type="file" (change)="startUpload($event.target.files)">
          <span class="file-cta">
            <span class="file-icon">
              <i class="fa fa-upload"></i>
            </span>
            <span class="file-label">
              or choose a fileâ€¦
            </span>
          </span>
        </label>
      </div>

      <div *ngIf="percentage | async as pct">
        <progress class="progress is-info" 
                  [value]="pct" 
                  max="100">        
        </progress>
        {{ pct | number }}%
      </div>
      
      
      <div *ngIf="snapshot | async as snap">
        {{ snap.bytesTransferred  }} of {{ snap.totalBytes }} 
      
        <div *ngIf="downloadURL | async as url">
          <h3>Results!</h3>
          <img [src]="url"><br>
          <a [href]="url" target="_blank" rel="noopener">Download Me!</a>
        </div> 
      
        <button (click)="task.pause()" class="button is-warning" [disabled]="!isActive(snap)">Pause</button>
        <button (click)="task.cancel()" class="button is-danger" [disabled]="!isActive(snap)">Cancel</button>
        <button (click)="task.resume()" class="button is-info"   [disabled]="!(snap?.state === 'paused')">Resume</button>
      </div>
  </div>

  <div id="title"></div>

  <!-- Create the editor container -->
  <form class="editor-form" [formGroup]="editorForm" (ngSubmit)="save()">
    <div class="form-group">
      <label for="editor"><h3>Content</h3></label>
      <quill-editor
      [style]="editorStyle"
      formControlName="editor"></quill-editor>
    </div>
  </form>

  <button class="save-btn" mat-raised-button (click)="save()">Save Article</button>
</ng-template>

